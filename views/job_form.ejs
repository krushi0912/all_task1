<!-- job-application-form using tables -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job_Application_form</title>
    <link rel="stylesheet" href="/job_form.css">
</head>

<body>
    <form action="/crud/submit" method="post" name="form" onsubmit="return validateform()">
        <h2>Job Application Form</h2>
        <!-- basic details -->
        <div class="basicdetails" id="basicdetails">
            <h3>Basic Details</h3>
            <label for="firstname">First Name :</label>
            <input type="text" name="firstname" id="firstname">
            <span id="fname"></span>

            <label for="lastname" style="margin-left: 50px;">Last Name :</label>
            <input type="text" name="lastname" id="lastname">
            <span id="lname"></span> <br> <br>

            <label for="designation">Designation : </label>
            <input type="text" name="designation" id="designation">
            <span id="desmsg"></span><br><br>

            <label for="email">Email :</label>
            <input type="text" name="email" id="email" placeholder="abc@123gmail.com">
            <span id="emailmsg"></span>

            <label for="address1" style="margin-left: 110px;">Address 1 :</label>
            <input type="text" name="address1" id="address1">
            <span class="addmsg"></span><br><br>

            <label for="phonenumber">Phone Number :</label>
            <input type="text" name="phonenumber" id="phonenumber" placeholder="1234567895">
            <span id="numbermsg"></span>

            <label for="address2" style="margin-left: 40px;">Address 2 :</label>
            <input type="text" name="address2" id="address2">
            <span class="addmsg"></span><br><br>

            <label for="gender">Gender : </label>
            <input type="radio" id="male" name="gender" value="male" checked>
            <label for="male">male</label>
            <input type="radio" id="female" name="gender" value="female">
            <label for="female">female</label>
            <span class="gender"></span>

            <label for="city" style="margin-left: 115px;">City : </label>
            <input type="text" name="city" id="city">
            <span id="citymsg"></span><br><br>

            <label for="Relationshipstatus"> Relationship status </label>
            <select name="Relationshipstatus" id="Relationshipstatus">
                <option value="single" selected>Single</option>
                <option value="married">Married</option>
            </select>

            <label for="state" style="margin-left: 110px;">State :</label>
            <input type="text" name="state" id="state">
            <span id="statemsg"></span><br><br>

            <label for="dob">Date of Birth : </label>
            <input type="text" name="dob" id="dob" placeholder="yyyy-mm-dd">
            <span class="dobmsg"></span>

            <label for="zipcode" style="margin-left: 60px;">Zipcode :</label>
            <input type="text" name="zipcode" id="zipcode" placeholder="123456">
            <span id="zipmsg"></span>
        </div><br><br>

        <!-- education details -->
        <div class="education">
            <h3>Education details</h3>
            <div class="edu">
                <div class="ssc" style="margin-bottom: 20px;">
                    <label for="sscboard" style="margin-left: 40px;">Cource </label>
                    <select name="cource[]">
                        <option value="ssc" selected>SSC</option>
                        <option value="hsc">HSC</option>
                        <option value="Degree">Degree</option>
                        <option value="master">Master</option>
                    </select>
                    <label for="board" style="margin-left: 40px;">Board/University</label>
                    <input type="text" name="board[]" id="board">
                    
                    <label for="passingyear" style="margin-left: 40px;">Passing Year </label>
                    <input type="text" name="passingyear[]" id="passingyear" placeholder="2000">
                    <label for="percentage" style="margin-left: 40px;">Percentage </label>
                    <input type="text" name="percentage[]" id="percentage" placeholder="80">
                    <span id="educ"></span>
                </div>
                
                
            </div>
            <input type="button" value="-" id="minus" onclick="minus_edu()" name="minus">
            <input type="button" value="+" id="plus" onclick="plus_edu()" name="plus">

        </div>

        <!-- work experience -->
        <div class="workexperience">
            <h3>Work Experience</h3><br>
            <div class="row1">
                <div class="experience">
                    <label for="companyname" style="margin-left: 50px;">Company name </label>
                    <input type="text" name="companyname[]" id="companyname">
                    <label for="work_designation" style="margin-left: 50px;">Designation </label>
                    <input type="text" name="work_designation[]" id="work_designation">
                    <label for="fromdate" style="margin-left: 50px;">From </label>
                    <input type="text" name="fromdate[]" id="fromdate" placeholder="yyyy-mm-dd">
                    <label for="todate" style="margin-left: 50px;">To </label>
                    <input type="text" name="todate[]" id="todate" placeholder="yyyy-mm-dd">
                    <span id="workmsg"></span>
                    <br><br><br>
                </div>
            </div>
            <input type="button" value="-" id="minus" onclick="minus_work()" name="minus">
            <input type="button" value="+" id="plus" onclick="plus_work()" name="plus">
        </div><br><br>

        <div class="flex">
            <div class="languages">
                <h3>Languages You known</h3>
                <table>
                    <span id="langmsg"></span> 
                    <tr>
                        <td><input type="checkbox" name="hindi" id="hindi"><label for="hindi">Hindi</label></td>
                        <td><input type="checkbox" name="h_r" id="h_r" style="margin-left: 30px;"><label
                                for="h_r">read</label></td>
                        <td><input type="checkbox" name="h_w" id="h_w" style="margin-left: 30px;"><label
                                for="h_w">write</label></td>
                        <td><input type="checkbox" name="h_s" id="h_s" style="margin-left: 30px;"><label
                                for="h_s">speak</label></td>
                                
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="english" id="english"><label for="english">English</label></td>
                        <td><input type="checkbox" name="e_r" id="e_r" style="margin-left: 30px;"><label
                                for="e_r">read</label></td>
                        <td><input type="checkbox" name="e_w" id="e_w" style="margin-left: 30px;"><label
                                for="e_w">write</label></td>
                        <td><input type="checkbox" name="e_s" id="e_s" style="margin-left: 30px;"><label
                                for="e_s">speak</label></td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" name="gujarati" id="gujarati"><label for="gujarati">Gujarati</label>
                        </td>
                        <td><input type="checkbox" name="g_r" id="g_r" style="margin-left: 30px;"><label
                                for="g_r">read</label></td>
                        <td><input type="checkbox" name="g_w" id="g_w" style="margin-left: 30px;"><label
                                for="g_w">write</label></td>
                        <td><input type="checkbox" name="g_s" id="g_s" style="margin-left: 30px;"><label
                                for="g_s">speak</label></td>
                    </tr>
                </table>
            </div>

            <div class="technologies">
                <h3>Technologies you known</h3>
                <table>

                    <span id="techmsg"></span>
                    <tr>
                        <td>
                            <input type="checkbox" name="php" id="php">
                            <label for="php">PHP</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_php" id="b_p" style="margin-left: 30px;" value="Beginer">
                            <label for="b_p">Beginer</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_php" id="m_p" style="margin-left: 30px;" value="Mideator">
                            <label for="m_p">Mideator</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_php" id="e_p" style="margin-left: 30px;" value="Expert">
                            <label for="e_p">Expert</label>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <input type="checkbox" name="mysql" id="mysql">
                            <label for="mysql">MYSQL</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_mysql" id="b_m" style="margin-left: 30px;" value="Beginer">
                            <label for="b_m">Beginer</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_mysql" id="m_m" style="margin-left: 30px;" value="Mideator">
                            <label for="m_m">Mideator</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_mysql" id="e_m" style="margin-left: 30px;" value="Expert">
                            <label for="e_m">Expert</label>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <input type="checkbox" name="laravel" id="laravel">
                            <label for="laravel">Laravel</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_laravel" id="b_l" style="margin-left: 30px;" value="Beginer">
                            <label for="b_l">Beginer</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_laravel" id="m_l" style="margin-left: 30px;"
                                value="Mideator">
                            <label for="m_l">Mideator</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_laravel" id="e_l" style="margin-left: 30px;" value="Expert">
                            <label for="e_l">Expert</label>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <input type="checkbox" name="oracle" id="oracle">
                            <label for="oracle">oracle</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_oracle" id="b_o" style="margin-left: 30px;" value="Beginer">
                            <label for="b_o">Beginer</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_oracle" id="m_o" style="margin-left: 30px;" value="Mideator">
                            <label for="m_o">Mideator</label>
                        </td>
                        <td>
                            <input type="radio" name="tech_oracle" id="e_o" style="margin-left: 30px;" value="Expert">
                            <label for="e_o">Expert</label>
                        </td>
                    </tr>
                </table>
            </div>
        </div> <br><br>

        <!-- Refrence contact -->
        <div class="reference">
            <h3>Reference Contact</h3><br>
            <div class="row">
                <div class="ref">
                    <label for="ref_name">Name </label>
                    <input type="text" name="ref_name[]" id="ref_name">
                    <label for="ref_contact" style="margin-left: 70px;">Contact Number </label>
                    <input type="text" name="ref_contact[]" id="ref_contact" placeholder="1234567895">
                    <label for="ref_relation" style="margin-left: 70px;">Relation </label>
                    <input type="text" name="ref_relation[]" id="ref_relation">
                    <span id="refmsg"></span><br><br><br>
                </div>
            </div>
            <input type="button" value="-" id="minus" onclick="minus_ref()" name="minus">
            <input type="button" value="+" id="plus" onclick="plus_ref()" name="plus">
        </div><br><br>

        <!-- Preferances -->
        <div class="preference">
            <h3>Preferences </h3>

            <label for="location" style="margin-left: 40px;">Prefered location</label>
            <select name="location" id="location">
                <option value="ahmedabad" selected>Ahmedabad</option>
                <option value="banglore">Banglore</option>
                <option value="pune">Pune</option>
                <option value="chennai">Chennai</option>
            </select>

            <label for="notice" style="margin-left: 40px;">Notice period</label>
            <input type="text" name="notice" id="notice" placeholder="2 month">
            <span id="notice_p"></span>


            <label for="department" style="margin-left: 40px;">Department</label>
            <select name="department" id="department">
                <option value="development">Devlopment</option>
                <option value="design">Design</option>
                <option value="marketing">Marketing</option>
            </select><br><br>

            <label for="Expactedctc" style="margin-left: 290px;">Expacted CTC</label>
            <input type="text" name="Expactedctc" id="Expactedctc">
            <span id="e_ctc1" style="color: black;">ex: 200000</span>
            <span id="e_ctc"></span><br><br>

            <label for="currentctc" style="margin-left: 290px;">Current CTC</label>
            <input type="text" name="currentctc" id="currentctc">
            <span id="c_ctc"></span>
        </div>

        <input type="submit" name="submit" id="submit" value="submit">
        <input type="reset" name="reset" id="reset" value="reset">
    </form>

    <script>
        work = 0
        function plus_work() {
            row1 = document.getElementsByClassName("row1")[0];
            div = document.createElement("div");
            div.setAttribute("class", "experience")
            input1 = row1.lastElementChild.getElementsByTagName("input");
            if (row1.lastElementChild) {
                for (let i = 0; i < input1.length; i++) {
                    workmsg = document.getElementById("workmsg");
                    if (input1[i].value == "") {
                        workmsg.innerHTML = "ALL feild required!";
                        return false;
                    }
                }
            }
            div.innerHTML = `
                    <label for="companyname" style="margin-left: 50px;">Company name </label>
                    <input type="text" name="companyname[]" id="companyname">
                    <label for="work_designation" style="margin-left: 50px;">Designation </label>
                    <input type="text" name="work_designation[]" id="work_designation">
                    <label for="fromdate" style="margin-left: 50px;">From </label>
                    <input type="text" name="fromdate[]" id="fromdate">
                    <label for="todate" style="margin-left: 50px;">To </label>
                    <input type="text" name="todate[]" id="todate"><br><br><br>`;
            work++;
           row1.appendChild(div);
        }
        function minus_work() {
            if(work>0){
                row1 = document.getElementsByClassName("row1");
                row1[0].removeChild(row1[0].lastElementChild);
            }
            work--;
        }

        education = 0;
        function plus_edu() {
            edu = document.getElementsByClassName("edu")[0];
            div = document.createElement("div");
            div.setAttribute("class", "ssc")
            input1 = edu.lastElementChild.getElementsByTagName("input");

            if (edu.lastElementChild) {
                for (let i = 0; i < input1.length; i++) {
                    educ = document.getElementById("educ");
                    if (input1[i].value == "") {
                        educ.innerHTML = "ALL feild required!";
                        return false;
                    }
                }
            }

            div.innerHTML = `
                    <label for="sscboard" style="margin-left: 40px;">Cource </label>
                    <select name="cource[]">
                        <option value="ssc">SSC</option>
                        <option value="hsc">HSC</option>
                        <option value="Degree">Degree</option>
                        <option value="master">Master</option>
                    </select>
                    <label for="board" style="margin-left: 40px;">Board/University</label>
                    <input type="text" name="board[]" id="board">
                    <label for="passingyear" style="margin-left: 40px;">Passing Year </label>
                    <input type="text" name="passingyear[]" id="passingyear">
                    <label for="percentage" style="margin-left: 40px;">Percentage </label>
                    <input type="text" name="percentage[]" id="percentage">
                    `;
            education++;
            edu.appendChild(div);
        }
        function minus_edu() {
            if(education>0){
                edu = document.getElementsByClassName("edu");
                edu[0].removeChild(edu[0].lastElementChild);
                education--;
            }
        }
        
        reference=0
        function plus_ref() {
            row = document.getElementsByClassName("row")[0];
            div = document.createElement("div");
            div.setAttribute("class", "ref")
            input1 = row.lastElementChild.getElementsByTagName("input");
            console.log(input1);
            if (row.lastElementChild) {
                for (let i = 0; i < input1.length; i++) {
                    refmsg = document.getElementById("refmsg");
                    if (input1[i].value == "") {
                        refmsg.innerHTML = "ALL feild required!";
                        return false;
                    }
                }
            }

            div.innerHTML = `
                    <label for="ref_name">Name </label>
                    <input type="text" name="ref_name[]" id="ref_name">
                    <label for="ref_contact" style="margin-left: 70px;">Contact Number </label>
                    <input type="text" name="ref_contact[]" id="ref_contact">
                    <label for="ref_relation" style="margin-left: 70px;">Relation </label>
                    <input type="text" name="ref_relation[]" id="ref_relation"><br><br><br>`;
            reference++;
            row.appendChild(div);
        }
        function minus_ref() {
            if(reference>0){
                row = document.getElementsByClassName("row");
                row[0].removeChild(row[0].lastElementChild);
            }
            reference--;
        }

        function validateform() {
            let input = document.getElementsByTagName("input");
            span = document.getElementsByTagName("span");
            valid = true;
            
            for (let i = 0; i < input.length; i++) {
                const x = document.forms["form"][input[i].name];
                

                if (x.name == "firstname") {
                    fname = document.getElementById("fname");
                    if (x.value == "") {
                        fname.innerHTML = "Required!";
                        valid = false;
                    }
                    else if (!/^[a-z ,.'-]+$/i.test(x.value)) {
                        fname.innerHTML = "Only Character!";
                        valid = false;
                    }
                }
                if (x.name == "lastname") {
                    lname = document.getElementById("lname");
                    if (x.value == "") {
                        lname.innerHTML = "Required!";
                        valid = false;
                    }
                    else if (!/^[a-z ,.'-]+$/i.test(x.value)) {
                        lname.innerHTML = "Only Character!";
                        valid = false;
                    }
                }
                if (x.name == "city") {
                    citymsg = document.getElementById("citymsg");
                    if (x.value == "") {
                        citymsg.innerHTML = "Required!";
                        valid = false;
                    }
                    else if (!/^[a-z ,.'-]+$/i.test(x.value)) {
                        citymsg.innerHTML = "Only Character!";
                        valid = false;
                    }
                }
                if (x.name == "state") {
                    statemsg = document.getElementById("statemsg");
                    if (x.value == "") {
                        statemsg.innerHTML = "Required!";
                        valid = false;
                    }
                    else if (!/^[a-z ,.'-]+$/i.test(x.value)) {
                        statemsg.innerHTML = "Only Character!";
                        valid = false;
                    }
                }

                if (x.name == "email") {
                    emailmsg = document.getElementById("emailmsg");
                    if (x.value == "") {
                        emailmsg.innerHTML = "Required!";
                        valid = false;
                    }
                    else if (!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(x.value)) {
                        emailmsg.innerHTML = "Enter Valid Email-id";
                        valid = false;
                    }
                }

                if (x.name == "phonenumber") {
                    numbermsg = document.getElementById("numbermsg");
                    if (x.value == "") {
                        numbermsg.innerHTML = "Requied!";
                        valid = false;
                    }
                    else if (!/^\d{10}$/.test(x.value)) {
                        numbermsg.innerHTML = "Enter 10 digits";
                        valid = false;
                    }
                }

                addmsg = document.querySelectorAll(".addmsg");
                if (x.name == "address1") {
                    if (x.value == "") {
                        addmsg[0].innerHTML = "Requied!";
                        valid = false;
                    }
                    else if (!/^[a-zA-Z0-9\s\,\''\-]*$/.test(x.value)) {
                        addmsg[0].innerHTML = "Enter Valid Address!";
                        valid = false;
                    }
                }
                if (x.name == "address2") {
                    if (x.value == "") {
                        addmsg[1].innerHTML = "Requied!";
                        valid = false;
                    }
                    else if (!/^[a-zA-Z0-9\s\,\''\-]*$/.test(x.value)) {
                        addmsg[1].innerHTML = "Enter Valid Address!"; valid = false;
                    }
                }

                if (x.name == "zipcode") {
                    zipmsg = document.getElementById("zipmsg");
                    if (x.value == "") {
                        zipmsg.innerHTML = "Requied!";
                        valid = false;
                    }
                    else if (!/^\d{6}$/.test(x.value)) {
                        zipmsg.innerHTML = "Enter only 6 digits!";
                        valid = false;
                    }
                }

                if (x.name == "dob") {
                    dob = document.querySelector(".dobmsg");
                    if (x.value == "") {
                        dob.innerHTML = "Requied!";
                        valid = false;
                    }
                    else if (!/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/.test(x.value)) {
                        dob.innerHTML = "yyyy-mm-dd";
                        valid = false;
                    }
                }
                langmsg = document.getElementById("langmsg");
                if(x.name == "hindi"){
                    if(hindi.checked == true){
                        if(h_r.checked == false && h_w.checked == false && h_s.checked==false){
                            langmsg.innerHTML = "If you select language then please select any read , write,speak";   
                            valid = false;
                        }
                    }else if(h_r.checked == true || h_w.checked == true || h_s.checked==true){
                        hindi.checked = true;
                    }
                }

                if(x.name == "english"){
                    if(english.checked == true){
                        if(e_r.checked == false && e_w.checked == false && e_s.checked==false){
                            langmsg.innerHTML = "If you select language then please select any read , write,speak";   
                            valid = false;
                        }
                    }else if(e_r.checked == true || e_w.checked == true || e_s.checked==true){
                        english.checked = true;
                    }
                }

                if(x.name == "gujarati"){
                    if(gujarati.checked == true){
                        if(g_r.checked == false && g_w.checked == false && g_s.checked==false){
                            langmsg.innerHTML = "If you select language then please select any read , write,speak"; 
                            valid = false;
                        }
                    }else if(g_r.checked == true || g_w.checked == true || g_s.checked==true){
                        gujarati.checked = true;
                    }
                }

                techmsg = document.getElementById("techmsg");
                if(x.name == "php"){
                    b_p = document.getElementById("b_p");
                    m_p = document.getElementById("m_p");
                    e_p = document.getElementById("e_p");
                    if(php.checked == true){
                        if(b_p.checked == false && m_p.checked == false && e_p.checked == false){
                            techmsg.innerHTML = "If you select technology then please select any one feild"
                            valid=false;
                        }
                    }else if(b_p.checked == true || m_p.checked == true || e_p.checked == true){
                        php.checked = true;
                    }
                }

                if(x.name == "mysql"){
                    b_m = document.getElementById("b_m");
                    m_m = document.getElementById("m_m");
                    e_m = document.getElementById("e_m");
                    if(mysql.checked == true){
                        if(b_m.checked == false && m_m.checked == false && e_m.checked == false){
                            techmsg.innerHTML = "If you select technology then please select any one feild"
                            valid=false;
                        }
                    }else if(b_m.checked == true || m_m.checked == true || e_m.checked == true){
                        mysql.checked = true;
                    }
                }

                if(x.name == "laravel"){
                    b_l = document.getElementById("b_l");
                    m_l = document.getElementById("m_l");
                    e_l = document.getElementById("e_l");
                    if(laravel.checked == true){
                        if(b_l.checked == false && m_l.checked == false && e_l.checked == false){
                            techmsg.innerHTML = "If you select technology then please select any one feild"
                            valid=false;
                        }
                    }else if(b_l.checked == true || m_l.checked == true || e_l.checked == true){
                        laravel.checked = true;
                    }
                }

                if(x.name == "oracle"){
                    b_o = document.getElementById("b_o");
                    m_o = document.getElementById("m_o");
                    e_o = document.getElementById("e_o");
                    if(oracle.checked == true){
                        if(b_o.checked == false && m_o.checked == false && e_o.checked == false){
                            techmsg.innerHTML = "If you select technology then please select any one feild"
                            valid=false;
                        }
                    }else if(b_o.checked == true || m_o.checked == true || e_o.checked == true){
                        oracle.checked = true;
                    }
                }
                
            
                if (x.name == "notice") {
                    notice_p = document.getElementById("notice_p");
                    if (x.value == "") {
                        notice_p.innerHTML = "Required!"; valid = false;
                    }
                    else if (!/^[A-Za-z0-9 .]*$/.test(x.value)) {
                        notice_p.innerHTML = "ex: 2 months"; valid = false;
                    }
                }

                if (x.name == "Expactedctc") {
                    e_ctc = document.getElementById("e_ctc");
                    if (x.value == "") {
                        e_ctc.innerHTML = "Required!"; valid = false;
                    }
                    else if (!/^[0-9 .]*$/.test(x.value)) {
                        e_ctc.innerHTML = "Enter valid ctc  "; valid = false;
                    }
                }

                if (x.name == "currentctc") {
                    c_ctc = document.getElementById("c_ctc");
                    if (x.value == "") {
                        c_ctc.innerHTML = "Required!"; valid = false;
                    }
                    else if (!/^[0-9 .]*$/.test(x.value)) {
                        c_ctc.innerHTML = "Enter valid ctc"; valid = false;
                    }
                }
            }
            console.log(valid);
            return valid;
        }
    </script>
</body>

</html>